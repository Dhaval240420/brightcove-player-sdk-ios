<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>BCOVPlayerSDK Reference</title>

	<link rel="stylesheet" href="css/style.css">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1.4">
	<meta name="generator" content="appledoc 2.2.1 (build 1334)">
</head>
<body class="appledoc">
	<header>
		<div class="container" class="hide-in-xcode">
			
			<h1 id="library-title">
				<a href="index.html">BCOVPlayerSDK </a>
			</h1>

			<p id="developer-home">
				<a href="index.html">Brightcove</a>
			</p>
			
		</div>
	</header>

	<aside>
		<div class="container">
			<nav>
				<ul id="header-buttons" role="toolbar">
					<li><a href="hierarchy.html">Hierarchy</a></li>
				</ul>
			</nav>
		</div>
	</aside>

	<article>
		<div id="overview-contents" class="container">
			<div id="content">
				<main role="main">
					<h1 class="title">BCOVPlayerSDK Reference</h1>

					
					<div class="section section-overview index-overview">
						
						
						<h1>Brightcove Player SDK for iOS, version 5.1.4.625</h1>

<h1>Supported Platforms</h1>

<p>iOS 7.0 and above.</p>

<p>tvOS 9.0 and above.</p>

<p>ARC is required.</p>

<h1>Please note:</h1>

<ul>
<li>The Brightcove PlayerUI Plugin is now integrated into the core Brightcove Player SDK Framework. This provides a fully-featured and customizable set of controls in your player.

<ul>
<li>PlayerUI controls are not supported on Apple TV.</li>
<li>PlayerUI controls automatically switch to ad mode during playback. This works with Once and FreeWheel ads. Google IMA ads use their own ad controls.</li>
<li>Please see important information in the Built-In PlayerUI Controls section below regarding this integration, using the Brightcove PlayerUI Controls, and migrating to the integrated PlayerUI Controls.</li>
</ul>
</li>
</ul>


<h1>Installation</h1>

<p>The Brightcove Player SDK provides two installation packages for iOS, a static library framework and a dynamic framework. The static library target supports deployment on iOS 7 and above, while the dynamic framework only supports iOS 8 and above.</p>

<p>The Brightcove Player SDK provides a dynamic framework to support tvOS 9.0 and above.</p>

<h2>CocoaPods</h2>

<p>You can use <a href="https://cocoapods.org">CocoaPods</a> to add the Brightcove Player SDK to your project. You can find the latest <code>Brightcove-Player-SDK</code> podspec <a href="https://github.com/CocoaPods/Specs/tree/master/Specs/Brightcove-Player-SDK">here</a>. The podspec supports both iOS and tvOS. CocoaPods 0.39 or newer is required.</p>

<p>Specifying the default pod <code>Brightcove-Player-SDK</code> will install the static library framework. To install the dynamic framework, declare the pod with the <code>dynamic</code> subspec: <code>Brightcove-Player-SDK/dynamic</code></p>

<p>Static Framework example:</p>

<pre><code>pod 'Brightcove-Player-SDK'
</code></pre>

<p>Dynamic Framework example:</p>

<pre><code>pod 'Brightcove-Player-SDK/dynamic'    
</code></pre>

<h2>Manual</h2>

<p>To add the Brightcove Player SDK to your project manually:</p>

<ol>
<li>Download the latest zipped release from our <a href="https://github.com/brightcove/brightcove-player-sdk-ios/releases">release page</a>.</li>
<li>Add the <code>BrightcovePlayerSDK.framework</code> to your project.</li>
<li>On the &ldquo;Build Settings&rdquo; tab of your application target, ensure that the &ldquo;Framework Search Paths&rdquo; include the path to the framework. This should have been done automatically unless the framework is stored under a different root directory than your project.</li>
<li>On the &ldquo;General&rdquo; tab of your application target, add the following to the &ldquo;Link
 Binary With Libraries&rdquo; section:

<ul>
<li><code>AVFoundation</code></li>
<li><code>CoreMedia</code></li>
<li><code>MediaPlayer</code></li>
<li><code>SafariServices</code></li>
<li><code>WebKit</code></li>
<li><code>BrightcovePlayerSDK.framework</code></li>
</ul>
</li>
<li>(Dynamic Framework only) On the &ldquo;General&rdquo; tab of your application target, add &lsquo;BrightcovePlayerSDK.framework&rsquo; to the &ldquo;Embedded Binary&rdquo; section.</li>
<li>(Dynamic Framework only) On the &ldquo;Build Phases&rdquo; tab, add a &ldquo;Run Script&rdquo; phase with the command <code>bash ${BUILT_PRODUCTS_DIR}/${FRAMEWORKS_FOLDER_PATH}/BrightcovePlayerSDK.framework/strip-frameworks.sh</code>. Check &ldquo;Run script only when installing&rdquo;. This will remove unneeded architectures from the build, which is important for App Store submission. (<a href="https://openradar.appspot.com/19209161">rdar://19209161</a>)</li>
<li>(Static Framework only) On the &ldquo;Build Settings&rdquo; tab of your application target, add <code>-ObjC</code> to the &ldquo;Other Linker Flags&rdquo; build setting.</li>
<li>(Static Framework only) Locate the file bcovpuiiconfont.ttf within the BrightcovePlayerSDK.framework bundle and drag it directly into your project listing so that the font file becomes a part of your app. After dragging the file, be sure to add it to your app&rsquo;s build target when prompted to do so. Once your app is built, the font file should have been copied into the app bundle at the same level as the app&rsquo;s Info.plist file. The font file supplies some of the BrightcovePlayerUI interface elements, but it does not need to be listed in the plist itself.</li>
</ol>


<h2>Imports</h2>

<p>The Brightcove Player SDK for iOS can be imported into code a few different ways; <code>@import BrightcovePlayerSDK;</code>, <code>#import &lt;BrightcovePlayerSDK/BrightcovePlayerSDK.h&gt;</code> or <code>#import &lt;BrightcovePlayerSDK/[specific class].h&gt;</code>.</p>

<h1>Quick Start</h1>

<p>Playing video with the Brightcove Player SDK for iOS, in less than 20 lines of code:</p>

<pre><code>NSString *token;      // (Brightcove Media API token with URL access)
NSString *playlistID; // (ID of the playlist you wish to use)

BCOVPlayerSDKManager *manager = [BCOVPlayerSDKManager sharedManager];
id&lt;BCOVPlaybackController&gt; controller = [manager createPlaybackControllerWithViewStrategy:nil];
self.controller = controller; //store this to a strong property
[self.view addSubview:controller.view];  

BCOVCatalogService *catalog = [[BCOVCatalogService alloc] initWithToken:token];
[catalog findPlaylistWithPlaylistID:playlistID
                     parameters:nil
                     completion:^(BCOVPlaylist *playlist,
                                  NSDictionary *jsonResponse,
                                  NSError      *error) {

                         [controller setVideos:playlist];
                         [controller play];

                     }];
</code></pre>

<p>You need to keep the controller from being automatically released at the end of the method. A common way to do this is to store a pointer to the controller in an instance variable.</p>

<h1>Built-In PlayerUI Controls</h1>

<p>The Brightcove Player SDK now has the Brightcove PlayerUI Plugin integrated into its framework, so you can use its fully-featured set of controls for playback and advertising right out of the box.</p>

<p>The PlayerUI is quick to set up, displays ad controls for Once and FreeWheel, and can be customized by creating your own layouts.</p>

<h2>Converting from Native Controls to PlayerUI Controls</h2>

<p>If you were previously using the native controls via the <code>defaultControlsViewStrategy</code> like this:</p>

<pre><code>BCOVPlayerSDKManager *manager = [BCOVPlayerSDKManager sharedManager];
id&lt;BCOVPlaybackController&gt; playbackController = [manager createPlaybackControllerWithViewStrategy:[manager defaultControlsViewStrategy]];
</code></pre>

<p>You should now set the view strategy to nil:</p>

<pre><code>BCOVPlayerSDKManager *manager = [BCOVPlayerSDKManager sharedManager];
id&lt;BCOVPlaybackController&gt; playbackController = [manager createPlaybackControllerWithViewStrategy:nil];
</code></pre>

<p>You also no longer need to add the Playback Controller&rsquo;s view to your hierarchy, so you can remove code like this:</p>

<pre><code>self.playbackController.view.frame = self.videoView.bounds;
self.playbackController.view.autoresizingMask = UIViewAutoresizingFlexibleHeight | UIViewAutoresizingFlexibleWidth;
[self.videoView addSubview:self.playbackController.view]
</code></pre>

<p>Instead, you will associate the Playback Controller with a new Player View and add that to your view hierarchy, as described in the <strong>Setting up PlayerUI Controls</strong> section of this document.</p>

<h2>Migrating from the Brightcove PlayerUI Plugin</h2>

<p>With version 5.1 of the Brightcove Player SDK, the PlayerUI controls are integrated into the core framework, and so it&rsquo;s no longer necessary to use a separate Brightcove PlayerUI plugin. If you were previously using the Brightcove PlayerUI plugin, and had installed it manually, you may need to make a few modifications to your project:</p>

<ul>
<li>Remove the reference to BrightcovePlayerUI.framework from your project listing</li>
<li>In your target&rsquo;s Build Settings, remove any reference to the BrightcovePlayerUI.framework from your Framework Search Paths</li>
<li>In your target&rsquo;s General settings, remove any reference to BrightcovePlayerUI from the Embedded Binaries and Linked Frameworks and Libraries sections</li>
</ul>


<p>If you install Brightcove libraries using CocoaPods, you can remove the BrightcovePlayerUI dependency from your Podfile, and then call <code>pod update</code> in Terminal.</p>

<p>In your project code, any specific <code>#import</code> of a PlayerUI header file can be converted from <code>#import &lt;BrightcovePlayerUI/filename.h&gt;</code> to <code>#import &lt;BrightcovePlayerSDK/filename.h&gt;</code>. Alternately, you can import all the headers at once with <code>@import BrightcovePlayerSDK;</code>.</p>

<h2>Setting up PlayerUI Controls</h2>

<p>Follow the guidelines below for setting up the PlayerUI controls.</p>

<p>Create a property in your UIViewController to keep track of the <a href="Classes/BCOVPUIPlayerView.html">BCOVPUIPlayerView</a>. The <a href="Classes/BCOVPUIPlayerView.html">BCOVPUIPlayerView</a> will contain both the Playback Controller&rsquo;s view, and the controls view.</p>

<pre><code>// PlayerUI's Player View
@property (nonatomic) BCOVPUIPlayerView *playerView;
</code></pre>

<p>Create the <a href="Classes/BCOVPUIBasicControlView.html">BCOVPUIBasicControlView</a>, and then the <a href="Classes/BCOVPUIPlayerView.html">BCOVPUIPlayerView</a>. This is where we associate the Playback Controller (and thus all the videos it plays) with the controls.
Set the player view to match the video container from your layout (<code>videoView</code>) when it resizes.</p>

<pre><code>// Create and configure Control View.
BCOVPUIBasicControlView *controlView = [BCOVPUIBasicControlView basicControlViewWithVODLayout];
self.playerView = [[BCOVPUIPlayerView alloc] initWithPlaybackController:self.playbackController options:nil controlsView:controlView];
self.playerView.frame = self.videoView.bounds;
self.playerView.autoresizingMask = UIViewAutoresizingFlexibleHeight | UIViewAutoresizingFlexibleWidth;
</code></pre>

<p>Finally, add the <a href="Classes/BCOVPUIPlayerView.html">BCOVPUIPlayerView</a> to your video container, <code>videoView</code>.</p>

<pre><code>// Add BCOVPUIPlayerView to your video view.
[self.videoView addSubview:self.playerView];
</code></pre>

<p><strong>Reminder:</strong> The PlayerUI uses a small font file for various graphics. If you are installing the static framework, and not using CocoaPods, be sure to add the file bcovpuiiconfont.ttf from the BrightcovePlayerSDK.framework bundle directly to your project listing so that the font file is copied into the app bundle</p>

<h2><a href="Classes/BCOVPUIPlayerViewOptions.html">BCOVPUIPlayerViewOptions</a></h2>

<p>The <a href="Classes/BCOVPUIPlayerViewOptions.html"><code>BCOVPUIPlayerViewOptions</code></a> class allows you to customize some BCOVPlayerUI behavior at initialization. You can customize the following:</p>

<ul>
<li><code>jumpBackInterval</code> The time in seconds the player will jump back when the jump back button is pressed.</li>
<li><code>hideControlsInterval</code> The time in seconds after the last touch event, before the controls are hidden.</li>
<li><code>hideControlsAnimationDuration</code> The time in seconds it takes for the controls to animate to hidden.</li>
<li><code>showControlsAnimationDuration</code> The time in seconds it takes for the controls to animate to visible.</li>
<li><code>learnMoreButtonBrowserStyle</code> Setting that determines if tapping the &ldquo;Learn More&rdquo; button on an ad will display the clickthrough link in an external browser (default setting) or an internal browser.</li>
<li><code>presentingViewController</code> The view controller to use for presenting things like modals and fullscreen.</li>
</ul>


<p>Options can be set using the following method:</p>

<pre><code>    BCOVPlayerSDKManager *manager = [BCOVPlayerSDKManager sharedManager];
    id&lt;BCOVPlaybackController&gt; controller = [manager createPlaybackController];

    BCOVPUIPlayerViewOptions *options = [[BCOVPUIPlayerViewOptions alloc] init];
    options.jumpBackInterval = 5;

    BCOVPUIPlayerView *playerView = [[BCOVPUIPlayerView alloc] initWithPlaybackController:playbackController options:options];
</code></pre>

<h2>Supplied Layouts</h2>

<p>Three layouts are provided to support different types of video:</p>

<ul>
<li><p><code>BCOVPUIControlLayout basicVODControlLayout</code> is a basic layout for general on-demand video streams.</p></li>
<li><p><code>BCOVPUIControlLayout basicLiveControlLayout</code> is a layout targeted towards live video.</p></li>
<li><p><code>BCOVPUIControlLayout basicLiveDVRControlLayout</code> is targeted towards live video streams with DVR controls.</p></li>
</ul>


<p>You typically set a new layout immediatley after your <code>BCOVPUIPlayerView</code> is created, but you can also set a new layout at any time. For example, you can set a new VOD layout like this:</p>

<pre><code>playerView.controlView.layout = [BCOVPUIControlLayout basicVODControlLayout]
</code></pre>

<h2>Custom Layouts</h2>

<p>In addition to the default layouts, you can create your own highly customized layouts by instantiating a new <code>BCOVPUIControlLayout</code> with your own design.</p>

<ol>
<li><p>First, create the controls that will go in your layout using <code>BCOVPUIBasicControlView layoutViewWithControlFromTag:width:elasticity:</code>. Each control is packaged in a <code>BCOVPUILayoutView</code> that determines the control spacing.</p></li>
<li><p>You can set the <code>width</code> of each layout view to the default width (which is based on the type of control), or you can specify your own width.</p></li>
<li><p>Use the <code>elasticity</code> argument to determine how much the layout view containing the control reizes its width to fill the control bar.</p>

<ol type="a">
<li>An elasticity of zero means the size of the layout view will be fixed.</li>
<li>An elasticity value greater than zero determines how much the layout view will grow to fill available space relative to all other elastic views in that control bar. A layout view with an elasticity value of 2.0 will grow twice as fast as a layout view with an elasticity value of 1.0. Typically a row of layout views will have at least one control with an elasticity greater than zero.</li>
</ol>
</li>
</ol>


<p>Here are examples of creating a variety of basic controls.</p>

<pre><code>// Create various standard layout views
// Standard play/pause button
BCOVPUILayoutView *playbackLayoutView = [BCOVPUIBasicControlView layoutViewWithControlFromTag:BCOVPUIViewTagButtonPlayback width:kBCOVPUILayoutUseDefaultValue elasticity:0.0];

// Standard jump back button
BCOVPUILayoutView *jumpBackButtonLayoutView = [BCOVPUIBasicControlView layoutViewWithControlFromTag:BCOVPUIViewTagButtonJumpBack width:kBCOVPUILayoutUseDefaultValue elasticity:0.0];

// Current time indicator
BCOVPUILayoutView *currentTimeLayoutView = [BCOVPUIBasicControlView layoutViewWithControlFromTag:BCOVPUIViewTagLabelCurrentTime width:kBCOVPUILayoutUseDefaultValue elasticity:0.0];

// Time separator - typically the '/' character
BCOVPUILayoutView *timeSeparatorLayoutView = [BCOVPUIBasicControlView layoutViewWithControlFromTag:BCOVPUIViewTagLabelTimeSeparator width:kBCOVPUILayoutUseDefaultValue elasticity:0.0];

// Video duration label
BCOVPUILayoutView *durationLayoutView = [BCOVPUIBasicControlView layoutViewWithControlFromTag:BCOVPUIViewTagLabelDuration      width:kBCOVPUILayoutUseDefaultValue elasticity:0.0];

// Slider bar used for scrubbing through the video
// The elasticity is set to 1 so that it can resize to fill available space
BCOVPUILayoutView *progressLayoutView = [BCOVPUIBasicControlView layoutViewWithControlFromTag:BCOVPUIViewTagSliderProgress width:kBCOVPUILayoutUseDefaultValue elasticity:1.0];

// Closed caption button
// This button is initially hidden ('removed'), and will be shown
// if closed captions or audio tracks are available.
BCOVPUILayoutView *closedCaptionLayoutView = [BCOVPUIBasicControlView layoutViewWithControlFromTag:BCOVPUIViewTagButtonClosedCaption width:kBCOVPUILayoutUseDefaultValue elasticity:0.0];
closedCaptionLayoutView.removed = YES;

// The full-screen button
BCOVPUILayoutView *screenModeLayoutView = [BCOVPUIBasicControlView layoutViewWithControlFromTag:BCOVPUIViewTagButtonScreenMode width:kBCOVPUILayoutUseDefaultValue elasticity:0.0];

// AirPlay button
// This button is initially hidden ('removed'), and will be shown
// if AirPlay devices are available.
BCOVPUILayoutView *externalRouteLayoutView = [BCOVPUIBasicControlView layoutViewWithControlFromTag:BCOVPUIViewTagViewExternalRoute width:kBCOVPUILayoutUseDefaultValue elasticity:0.0];
externalRouteLayoutView.removed = YES;

// Empty view - used as a spacer
BCOVPUILayoutView     *spacerLayoutView1 = [BCOVPUIBasicControlView layoutViewWithControlFromTag:BCOVPUIViewTagViewEmpty width:1.0 elasticity:1.0];

// Empty view - used as a spacer
BCOVPUILayoutView *spacerLayoutView2 = [BCOVPUIBasicControlView layoutViewWithControlFromTag:BCOVPUIViewTagViewEmpty width:1.0 elasticity:1.0];

// Empty view - will have a custom UIImageView added as a subview
BCOVPUILayoutView *logoLayoutView1 = [BCOVPUIBasicControlView layoutViewWithControlFromTag:BCOVPUIViewTagViewEmpty width:80.0 elasticity:1.0];

// Empty view - will have a custom UIImageView added as a subview
BCOVPUILayoutView *logoLayoutView2 = [BCOVPUIBasicControlView layoutViewWithControlFromTag:BCOVPUIViewTagViewEmpty width:36.0 elasticity:0.0];
</code></pre>

<p>Note that you can also create an empty layout view, into which you can place your own view (logo, control, nothing, etc.). This code shows how to place a UIImage logo inside the logoLayoutView1 we created above.</p>

<pre><code>// Create logo image inside an image view for display in control bar.
UIImage *logoImage1 = [UIImage imageNamed:@"myLogo"];
UIImageView *logoImageView1 = [[UIImageView alloc] initWithImage:logoImage1];

logoImageView1.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight;
logoImageView1.contentMode = UIViewContentModeScaleAspectFit;
logoImageView1.frame = logoLayoutView1.frame;

// Add image view to our empty layout view.
[logoLayoutView1 addSubview:logoImageView1];
</code></pre>

<p>Now that there are various controls packaged in layout views, they are ordered into arrays, each of wihch represents a single line of controls, i.e. a control bar. Note that you can have different layouts for portrait and landscape orientations, so you will typically set up two different arrays of control bars.</p>

<p>In the standard layout for landscape orientation, controls are arranged in a single array, and then that array is stored in another array representing the entire set of controls.</p>

<pre><code>        NSArray *standardLayoutLine1 = @[ playbackLayoutView, jumpBackButtonLayoutView, currentTimeLayoutView, timeSeparatorLayoutView, durationLayoutView, progressLayoutView, spacerLayoutView1, logoLayoutView1, spacerLayoutView2, closedCaptionLayoutView, screenModeLayoutView, externalRouteLayoutView ];
        NSArray *standardLayoutLines = @[ standardLayoutLine1 ];
</code></pre>

<p>In the compact layout for portrait orientation, two arrays of controls are created, one for each line. These arrays are packaged into another array representing the compact layout.</p>

<p>Note that the exact same objects are used for most of the controls in each layout. When this is done, and you switch between portrait and landscape orientations, the object will be moved to its new position using smooth animation.</p>

<pre><code>        NSArray *compactLayoutLine1 = @[ currentTimeLayoutView, progressLayoutView, durationLayoutView ];
        NSArray *compactLayoutLine2 = @[ playbackLayoutView, jumpBackButtonLayoutView, spacerLayoutView1, closedCaptionLayoutView, screenModeLayoutView, externalRouteLayoutView, logoLayoutView2 ];
        NSArray *compactLayoutLines = @[ compactLayoutLine1, compactLayoutLine2 ];
</code></pre>

<p>Finally, now that there are two layout configurations (one for full width, and one for compact width), you can create a new <code>BCOVPUIControlLayout</code> object, and set it in the player&rsquo;s control view.</p>

<pre><code>        BCOVPUIControlLayout *customLayout = [[BCOVPUIControlLayout alloc] initWithStandardControls:standardLayoutLines compactControls:compactLayoutLines];
        playerView.controlView.layout = customLayout;
</code></pre>

<p>If you have controls that you need to show or hide frequently, you can set the <code>removed</code> property on that control&rsquo;s layout view. When you have changed your controls, call <code>setNeedsLayout</code> on the playerView&rsquo;s controlView:</p>

<pre><code>    logoLayoutView1.removed = YES;
    [playerView.controlsView setNeedsLayout];
</code></pre>

<p>You can also customize several general <a href="Classes/BCOVPUIControlLayout.html"><code>BCOVPUIControlLayout</code></a> properties:</p>

<ul>
<li><code>controlBarHeight</code> sets the size of each row of controls.</li>
<li><code>horizontalItemSpacing</code> sets the spacing between each <a href="Classes/BCOVPUILayoutView.html"><code>BCOVPUILayoutView</code></a> in each control bar.</li>
<li><code>compactLayoutMaximumWidth</code> determines which set of controls is used. If the control view is smaller than <code>compactLayoutMaximumWidth</code>, the compact control set will be used, otherwise the standard controls will be used.</li>
</ul>


<p>To change the set of controls that are displayed, you must create and install a new <a href="Classes/BCOVPUIControlLayout.html"><code>BCOVPUIControlLayout</code></a>. New controls can be installed at any time.</p>

<h2>More Customization Examples</h2>

<p>For more examples of PlayerUI customization, you can look at the sample code in the PlayerUI folder of the BrightcoveOS GitHub repository:</p>

<p><a href="https://github.com/BrightcoveOS/ios-player-samples">[https://github.com/BrightcoveOS/ios-player-samples](https://github.com/BrightcoveOS/ios-player-samples)</a></p>

<h1>Architectural Overview</h1>

<p><img src="architecture01.png" alt="Architectural Overview 1" /></p>

<p>The entry point to the Brightcove Player SDK for iOS is the <a href="https://github.com/brightcove/brightcove-player-sdk-ios/blob/master/ios/dynamic/BrightcovePlayerSDK.framework/Headers/BCOVPlayerSDKManager.h">[<code>BCOVPlayerSDKManager</code>](Classes/BCOVPlayerSDKManager.html)</a> singleton object. This Manager handles registration of plugin components and some other housekeeping tasks, but it primarily serves as an object factory. Your app&rsquo;s view controller obtains a reference to the Manager, and uses it to create a <a href="https://github.com/brightcove/brightcove-player-sdk-ios/blob/master/ios/dynamic/BrightcovePlayerSDK.framework/Headers/BCOVPlaybackController.h">[<code>BCOVPlaybackController</code>](Protocols/BCOVPlaybackController.html)</a>. The playback controller&rsquo;s <code>view</code> property exposes a UIView containing the AVPlayerLayer object that ultimately presents your video content on the screen. The playback controller also accepts a [<a href="Protocols/BCOVPlaybackControllerDelegate.html"><code>BCOVPlaybackControllerDelegate</code></a>][delegate], which you can implement to respond to various video playback events.</p>

<p>The playback controller offers methods and properties to affect playback of the current video. However, internally, the playback controller delegates to a <a href="https://github.com/brightcove/brightcove-player-sdk-ios/blob/master/ios/dynamic/BrightcovePlayerSDK.framework/Headers/BCOVPlaybackSession.h">[<code>BCOVPlaybackSession</code>](Protocols/BCOVPlaybackSession.html)</a> object. Playback sessions do the actual work of preparing and playing video content, and contain the video&rsquo;s metadata and AVPlayer. The playback controller has mechanisms to advance from the current playback session to the next playback session, either automatically at the end of a video, or manually with a method call. Once the playback controller has advanced to a new session, the previous session is discarded and cannot be used again.</p>

<p>There are two other elements of the playback controller: a <a href="https://github.com/brightcove/brightcove-player-sdk-ios/blob/master/ios/dynamic/BrightcovePlayerSDK.framework/Headers/BCOVPlaybackSessionProvider.h">[<code>BCOVPlaybackSessionProvider</code>](Protocols/BCOVPlaybackSessionProvider.html)</a>, and a list of [<a href="Protocols/BCOVPlaybackSessionConsumer.html"><code>BCOVPlaybackSessionConsumer</code></a>][consumer]s. As the name would suggest, the playback session provider is responsible for creating playback sessions and delivering them to the playback controller. The playback controller then delivers the session to each of the playback session consumers in the list. Both the session provider and session consumer APIs are designed for use by plugin developers, and are not detailed in this document.</p>

<p>In addition to the playback functionality provided by the classes described above, there are a handful of value classes. These are used to hold data specific to the Player SDK for iOS. There are also <a href="https://github.com/brightcove/brightcove-player-sdk-ios/blob/master/ios/dynamic/BrightcovePlayerSDK.framework/Headers/BCOVCatalogService.h">[<code>BCOVCatalogService</code>](Classes/BCOVCatalogService.html)</a> and <a href="https://github.com/brightcove/brightcove-player-sdk-ios/blob/master/ios/dynamic/BrightcovePlayerSDK.framework/Headers/BCOVMediaRequestFactory.h">[<code>BCOVMediaRequestFactory</code>](Classes/BCOVMediaRequestFactory.html)</a>, which offer functionality for querying content remotely stored in your Brightcove Video Cloud account. Each of these is described in more detail in its own section below.</p>

<h2>Play, Pause, and Seek</h2>

<p>The Brightcove Player SDK for iOS provides play, pause, and seek methods on the <a href="Protocols/BCOVPlaybackController.html"><code>BCOVPlaybackController</code></a>. <strong>It is important to use these methods instead of using the AVPlayer equivalent.</strong> In their default implementations, these objects forward the calls directly to the corresponding method on the AVPlayer. However, if you are using plugins, they may override the default behavior to add functionality. For example, if using an advertising plugin, calling <a href="Protocols/BCOVPlaybackController.html#//api/name/play"><code>[BCOVPlaybackController play]</code></a> the first time might cause pre-roll to play before starting the content. To find out more about how a plugin may override the default behavior, please refer to each plugin README.md or by checking for a category extension on <a href="Classes/BCOVSessionProviderExtension.html"><code>BCOVSessionProviderExtension</code></a> that the plugin may add.</p>

<p><em>Calling play, pause, or seek on the AVPlayer directly may cause undefined behavior.</em></p>

<h2>Preloading videos</h2>

<p>The Brightcove Player SDK for iOS provides the ability to preload upcoming videos in a playlist. By default, this functionality is disabled because of the large amount of memory preloading may use. You can turn on preloading to help ensure futures videos load quickly, however you might want to take into account the amount of memory available on the client&rsquo;s device and speed of their connection. If they are not on Wifi, preloading a video may affect the current video&rsquo;s network resources.</p>

<p><a href="https://github.com/brightcove/brightcove-player-sdk-ios/blob/master/ios/dynamic/BrightcovePlayerSDK.framework/Headers/BCOVBasicSessionProvider.h#L108-L126">[<code>BCOVBasicSessionProviderOptions</code>](Classes/BCOVBasicSessionProviderOptions.html)</a> and <a href="https://github.com/brightcove/brightcove-player-sdk-ios/blob/master/ios/dynamic/BrightcovePlayerSDK.framework/Headers/BCOVBasicSessionProvider.h#L78-L99">[<code>BCOVBasicSessionLoadingPolicy</code>](Classes/BCOVBasicSessionLoadingPolicy.html)</a> provide two factory methods to modify preloading behavior that are described below:</p>

<ul>
<li><code>+sessionPreloadingNever</code> This method returns a session preloading policy that never preloading videos. This is the default setting.</li>
<li><code>+sessionPreloadingWithProgressPercentage:</code> This method returns a session preloading policy that preloads the next video in a playlist after the provided percentage of the current video has been reached. If a value below 0 or greater than 100 is used, then <code>sessionPreloadingNever</code> is used. Some plugins may ignore this setting.</li>
</ul>


<p>An example:</p>

<pre><code>     BCOVPlayerSDKManager *manager = [BCOVPlayerSDKManager sharedManager];
 [1] BCOVBasicSessionLoadingPolicy *policy = [BCOVBasicSessionLoadingPolicy sessionPreloadingWithProgressPercentage:50];     
      BCOVBasicSessionProviderOptions *options = [[BCOVBasicSessionProviderOptions alloc] init];
      options.sessionPreloadingPolicy = policy;
      id&lt;BCOVPlaybackSessionProvider&gt; provider = [manager createBasicSessionProviderWithOptions:options];
</code></pre>

<ol>
<li>Create a session preloading policy which starts preloading of an upcoming session when the current session reaches 50% of progress.</li>
</ol>


<h2>Source Selection (HLS, MP4, HTTP/HTTPs)</h2>

<p>The Brightcove Player SDK for iOS provides clients the ability to attach multiple url and delivery types (<code>BCOVSource</code>) to a single video (<code>BCOVVideo</code>). For example, if your videos are being retrieved by the catalog or playback service, there may be a mix of HLS or MP4 renditions for a single video, along with HTTP and HTTPs versions.  Which one of these sources that get selected is determined by a source selection block. The default source selection policy will select the first HLS <code>BCOVSource</code> on each <code>BCOVVideo</code>, regardless of scheme.</p>

<p>Source selection can be overridden by creating a <code>BCOVBasicSessionProviderOptions</code> and using it to create a <code>BCOVBasicSessionProvider</code>. For example:</p>

<pre><code>BCOVPlayerSDKManager *sdkManager = [BCOVPlayerSDKManager sharedManager];

BCOVBasicSessionProviderOptions *options = [[BCOVBasicSessionProviderOptions alloc] init];    
options.sourceSelectionPolicy = &lt;policy&gt;

id&lt;BCOVPlaybackSessionProvider&gt; provider = [sdkManager createBasicSessionProviderWithOptions:options];
idBCOVPlaybackController playbackController = [sdkManager createPlaybackControllerWithSessionProvider:provider viewStrategy:nil];
</code></pre>

<p>If this default selection policy does not work for you, there are a few alternatives to selecting a source:</p>

<ul>
<li><p>If retrieving videos from Video Cloud via the catalog service or playback service, before calling <a href="Protocols/BCOVPlaybackController.html#//api/name/setVideos:"><code>[BCOVPlaybackController setVideos:]</code></a>, use the update method on the <a href="Classes/BCOVVideo.html"><code>BCOVVideo</code></a> to only contain the source you want (see the &ldquo;Values&rdquo; section for more info).</p></li>
<li><p>If you prefer HTTPs HLS, <code>[BCOVBasicSourceSelectionPolicy sourceSelectionHLSWithScheme:kBCOVSourceURLSchemeHTTPS]</code> allows you to prefer a specific scheme. This will not convert non HTTP urls to HTTPs urls. If you choose to select HTTPs, ensure that your CDN is configured for HTTPs. If the CDN is configured for HTTPs, use <code>BCOVPlaybackService</code> instead of <code>BCOVCatalogService</code> to retrieve video/playlist metadata.</p></li>
<li><p>Similar to updating the video object, you may also implement your own source selection block.</p>

<pre><code>  options.sourceSelectionPolicy = ^ BCOVSource *(BCOVVideo *video) {

     &lt;Check video.sources for source&gt;
</code></pre></li>
</ul>

						
						
					</div>
					

					<div class="index-container">
						

						
						<div class="index-column">
							<h2 class="index-title">Class References</h2>
							<ul>
								
								<li><a href="Classes/BCOVAd.html">BCOVAd</a></li>
								
								<li><a href="Classes/BCOVAdSequence.html">BCOVAdSequence</a></li>
								
								<li><a href="Classes/BCOVBasicSessionLoadingPolicy.html">BCOVBasicSessionLoadingPolicy</a></li>
								
								<li><a href="Classes/BCOVBasicSessionProvider.html">BCOVBasicSessionProvider</a></li>
								
								<li><a href="Classes/BCOVBasicSessionProviderOptions.html">BCOVBasicSessionProviderOptions</a></li>
								
								<li><a href="Classes/BCOVBasicSourceSelectionPolicy.html">BCOVBasicSourceSelectionPolicy</a></li>
								
								<li><a href="Classes/BCOVCatalogOperation.html">BCOVCatalogOperation</a></li>
								
								<li><a href="Classes/BCOVCatalogService.html">BCOVCatalogService</a></li>
								
								<li><a href="Classes/BCOVCuePoint.html">BCOVCuePoint</a></li>
								
								<li><a href="Classes/BCOVCuePointCollection.html">BCOVCuePointCollection</a></li>
								
								<li><a href="Classes/BCOVCuePointProgressPolicy.html">BCOVCuePointProgressPolicy</a></li>
								
								<li><a href="Classes/BCOVCuePointProgressPolicyResult.html">BCOVCuePointProgressPolicyResult</a></li>
								
								<li><a href="Classes/BCOVMediaRequestFactory.html">BCOVMediaRequestFactory</a></li>
								
								<li><a href="Classes/BCOVPUIBasicControlView.html">BCOVPUIBasicControlView</a></li>
								
								<li><a href="Classes/BCOVPUIButton.html">BCOVPUIButton</a></li>
								
								<li><a href="Classes/BCOVPUICommon.html">BCOVPUICommon</a></li>
								
								<li><a href="Classes/BCOVPUIControlLayout.html">BCOVPUIControlLayout</a></li>
								
								<li><a href="Classes/BCOVPUILayoutView.html">BCOVPUILayoutView</a></li>
								
								<li><a href="Classes/BCOVPUIPlayerView.html">BCOVPUIPlayerView</a></li>
								
								<li><a href="Classes/BCOVPUIPlayerViewOptions.html">BCOVPUIPlayerViewOptions</a></li>
								
								<li><a href="Classes/BCOVPUISlider.html">BCOVPUISlider</a></li>
								
								<li><a href="Classes/BCOVPlaybackService.html">BCOVPlaybackService</a></li>
								
								<li><a href="Classes/BCOVPlaybackServiceRequestFactory.html">BCOVPlaybackServiceRequestFactory</a></li>
								
								<li><a href="Classes/BCOVPlaybackSessionLifecycleEvent.html">BCOVPlaybackSessionLifecycleEvent</a></li>
								
								<li><a href="Classes/BCOVPlayerSDKManager.html">BCOVPlayerSDKManager</a></li>
								
								<li><a href="Classes/BCOVPlaylist.html">BCOVPlaylist</a></li>
								
								<li><a href="Classes/BCOVSessionProviderExtension.html">BCOVSessionProviderExtension</a></li>
								
								<li><a href="Classes/BCOVSource.html">BCOVSource</a></li>
								
								<li><a href="Classes/BCOVVideo.html">BCOVVideo</a></li>
								
							</ul>
						</div>
						

						
						<div class="index-column">
							
							<h2 class="index-title">Protocol References</h2>
							<ul>
								
								<li><a href="Protocols/BCOVComponent.html">BCOVComponent</a></li>
								
								<li><a href="Protocols/BCOVComponentIdentity.html">BCOVComponentIdentity</a></li>
								
								<li><a href="Protocols/BCOVCuePoint.html">BCOVCuePoint</a></li>
								
								<li><a href="Protocols/BCOVMutableAnalytics.html">BCOVMutableAnalytics</a></li>
								
								<li><a href="Protocols/BCOVMutableCuePoint.html">BCOVMutableCuePoint</a></li>
								
								<li><a href="Protocols/BCOVMutablePlaylist.html">BCOVMutablePlaylist</a></li>
								
								<li><a href="Protocols/BCOVMutableSource.html">BCOVMutableSource</a></li>
								
								<li><a href="Protocols/BCOVMutableVideo.html">BCOVMutableVideo</a></li>
								
								<li><a href="Protocols/BCOVPUIPlayerViewDelegate.html">BCOVPUIPlayerViewDelegate</a></li>
								
								<li><a href="Protocols/BCOVPlaybackController.html">BCOVPlaybackController</a></li>
								
								<li><a href="Protocols/BCOVPlaybackControllerAdsDelegate.html">BCOVPlaybackControllerAdsDelegate</a></li>
								
								<li><a href="Protocols/BCOVPlaybackControllerBasicDelegate.html">BCOVPlaybackControllerBasicDelegate</a></li>
								
								<li><a href="Protocols/BCOVPlaybackControllerDelegate.html">BCOVPlaybackControllerDelegate</a></li>
								
								<li><a href="Protocols/BCOVPlaybackSession.html">BCOVPlaybackSession</a></li>
								
								<li><a href="Protocols/BCOVPlaybackSessionAdsConsumer.html">BCOVPlaybackSessionAdsConsumer</a></li>
								
								<li><a href="Protocols/BCOVPlaybackSessionBasicConsumer.html">BCOVPlaybackSessionBasicConsumer</a></li>
								
								<li><a href="Protocols/BCOVPlaybackSessionConsumer.html">BCOVPlaybackSessionConsumer</a></li>
								
								<li><a href="Protocols/BCOVPlaybackSessionProvider.html">BCOVPlaybackSessionProvider</a></li>
								
								<li><a href="Protocols/BCOVPlaylist.html">BCOVPlaylist</a></li>
								
								<li><a href="Protocols/BCOVSource.html">BCOVSource</a></li>
								
								<li><a href="Protocols/BCOVVideo.html">BCOVVideo</a></li>
								
							</ul>
							

							
							<h2 class="index-title">Constant References</h2>
							<ul>
								
									<li><a href="Constants/BCOVPUIButtonIcon.html">BCOVPUIButtonIcon</a></li>
								
									<li><a href="Constants/BCOVPUILearnMoreButtonBrowserStyle.html">BCOVPUILearnMoreButtonBrowserStyle</a></li>
								
									<li><a href="Constants/BCOVPUIScreenMode.html">BCOVPUIScreenMode</a></li>
								
									<li><a href="Constants/BCOVPUIVideoType.html">BCOVPUIVideoType</a></li>
								
									<li><a href="Constants/BCOVPUIViewTag.html">BCOVPUIViewTag</a></li>
								
									<li><a href="Constants/BCOVPlaybackServiceErrorCode.html">BCOVPlaybackServiceErrorCode</a></li>
								
									<li><a href="Constants/BCOVProgressPolicyCuePointsToProcess.html">BCOVProgressPolicyCuePointsToProcess</a></li>
								
									<li><a href="Constants/BCOVProgressPolicyResumePosition.html">BCOVProgressPolicyResumePosition</a></li>
								
							</ul>
							

							
							<h2 class="index-title">Category References</h2>
							<ul>
								
								<li><a href="Categories/NSDictionary+BCOVURLSupport.html">NSDictionary(BCOVURLSupport)</a></li>
								
							</ul>
							
						</div>
						
					</div>

					<footer>
						<div class="footer-copyright">
							
							<p class="copyright">Copyright &copy; 2016 Brightcove. All rights reserved. Updated: 2016-10-11</p>
							
							
							<p class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2.1 (build 1334)</a>.</p>
							
						</div>
					</footer>
				</main>
			</div>
		</div>
	</article>

	<script src="js/script.js"></script>
</body>
</html>